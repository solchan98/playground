# [BATCH-2] Spring에서 지원하는 Scheduler 적용하여 Batch 주기적으로 수행하기

BATCH-1에서 작성한 BATCH를 주기적으로 수행하기 위해서는 스케줄링이 필요하다.

스프링에서 대표적인 스케줄링은 스프링에 내장되어있는 Scheduler와 Quartz가 있다.

스프링 내장 스케줄링은 간단한 스케줄링 구현에 적합하고, Quartz는 좀 더 세부적인 설정과 후처리가 필요할 때 적합하다.

간단한 스케줄링이 목적이라서 스프링 내장 스케줄링을 사용해본다.

시나리오
> BATCH-1에서 수행한 작업을 5초 주기로 작동시킨다.


## scheduler/Scheduler

수행하기 위한 스케줄러를 정의하는 클래스파일이다.

@Scheduled를 통해 메서드를 작성하여 하나의 스케줄러를 작성한다.
주기는 cron 옵션으로 설정할 수 있다.

### cron 옵션 설정 방법

@Scheduled(cron = “* * * * * *”)  

*순서
1. 초 (0 ~ 59)
2. 분 (0 ~ 59)
3. 시간 (0 ~ 23)
4. 일 (1 ~ 31)
5. 월 (1 ~ 12)
6. 요일 (0 ~ 7) 0, 7은 일요일, 1부터 월요일

*: 모든 조건을 의미  
?: 설정 값이 없을 때(날짜와 요일 부분에서만 사용가능)  
-:  범위값을 지정할 때  
,: 여러값을 지정할 때  
/: 초기값과 증가치를 설정할 때  
L: 마지막 - 지정할 수 있는 범위의 마지막 값 설정할 때(날짜와 요일 부분에서만 사용가능)  
W: 지정 일에서 가장 가까운 평일을 찾는다 (일에서만 사용가능)  

사용 예시
1. 매월 10일 오전 11시
    1. `cron = '0 0 11 10 * *`
2. 매일 오후 2시 5분 0초
    1. `cron = "0 5 14 * * *"`
3. 10분마다 반복
    1. `cron = "0 0/10 * * *`
4. 매달 1일 00시에 실행
    1. `cron = "0 0 0 1 * *"`
5. 매월 마지막날 저녁 10시에 실행
    1. `cron = "0 0 22 L * ?"`
    
## schedulerConfig

스케줄러를 두 개 이상 만들기 위해서는 스케줄러 설정 클래스를 생성하여 쓰레스 설정을 해야한다.

@Configuration으로 설정파일임을 등록하고, @EnableScheduling 스케줄러 사용을 등록한다.

이후 스케줄러로 사용할 쓰레드를 설정해준다.